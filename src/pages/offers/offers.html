<ion-header>
  <ion-navbar>
    <ion-title>
      Offers
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div>
    <ion-segment [(ngModel)]="productType" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="FOOD">
        Foods
      </ion-segment-button>
      <ion-segment-button value="DRINK">
        Drinks
      </ion-segment-button>
      <ion-segment-button value="OTHER">
        Others
      </ion-segment-button>
    </ion-segment>
  </div>

  <div padding>
      <ion-item>
          <ion-label>Order by </ion-label>
          <ion-select [(ngModel)]="orderType" interface="popover" (ionChange)="changeOrder()">
              <ion-option value="PRICE">Price</ion-option>
              <ion-option value="DISTANCE">Distance</ion-option>
          </ion-select>
        </ion-item>

    <ion-item>
      <ion-label>Filter by products</ion-label>
      <ionic-selectable item-content [(ngModel)]="selectedProducts" itemValueField="_id" itemTextField="name"
        [isMultiple]="true" [items]="selectableProducts" [canSearch]="true" (onChange)="itemsChanged()">
      </ionic-selectable>
    </ion-item>

    <ion-card *ngFor="let offer of filteredOffers">

      <ion-card-header>
        {{offer.name}}
      </ion-card-header>

      <ion-card-content>
        <p>
          {{offer.description}}
        </p>
        <p>
          <strong>
            Price:
          </strong> {{offer.price}}â‚¬
        </p>
        <p>
          <strong>
            Pub:
          </strong>
          {{offer?.barName}}
        </p>
        <p>
          <strong>
            Address:
          </strong>
          {{offer?.barAddress}}
        </p>
        <p>
            <strong>
              Distance:
            </strong>
            {{offer?.distance}}km
          </p>
      </ion-card-content>

    </ion-card>
  </div>


</ion-content>